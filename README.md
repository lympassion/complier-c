# compilation-principle-expermient
大三下编译原理实验



### 1. 词法分析程序的设计与实现

**必备要求**

1. 可以识别出用C语言编写的源程序中的每个单词符号，并以记号的形式输出每个单词符号。（基本数据类型至少包含整数、字符、布尔类型；至少包含赋值语句、变量申明语句、算数表达式语句、布尔表达式语句、循环语句、分支语句、函数定义及调用）

2. 可以识别并且跳过源程序中的注释。

3. 可以统计源程序中的语句行数、各类单词的个数，以及字符总数，并输出统计结果。

4. 检查源程序中存在的词法错误，并报告错误所在的位置。

**可选要求**

- [x] 能识别指数形式的浮点数。
- [x] 能识别8进制/16进制数。
- [x] 能识别数组类型及结构体。
- [x] 对源程序中出现的错误进行适当的恢复，使得词法分析可以继续进行，对源程序进行一次扫描，即可检查并报告源程序中存在的所有词法错误及错误位置。 



**reference**

1. [手把手教你做一个 C 语言编译器（3）：词法分析器](https://wizardforcel.gitbooks.io/diy-c-compiler/content/4.html)
2. [xc-tutor.c](https://github.com/lotabout/write-a-C-interpreter/tree/step-2)



### 2. 语法分析程序的设计与实现

**必备要求**

1. 可以识别出用C语言子集中数据类型和语句集编写的源程序，并以语法分析树的形式输出分析结果。（基本数据类型至少包含整数、布尔类型；至少包含赋值语句、变量申明语句、算数加/减法表达式、布尔表达式、循环语句、分支语句）

2.  检查源程序中存在的语法错误，并报告错误所在的位置。

**可选要求**

- [x] 能识别函数调用语句

- [x] 对源程序中出现的错误进行适当的恢复，使得语法分析可以继续进行，检查并报告源程序中存在的所有语法错误及错误位置

**reference**

1. [编译原理之语法分析（自顶向下递归下降法 Pl/0语言文法 打印语法树）](https://blog.csdn.net/qq_38247544/article/details/84582654)



### 3. 语义分析程序的设计与实现

**必备要求**

1. 能够实现对整型（int）及布尔变量的类型检查，两类变量不能相互赋值及运算；仅整型变量才能参与算术运算；
2. 实现整数计算器的语义动作定义及语法制导翻译，并绘制出相应语法树；
3. 为表达式“（2+3”生成错误信息“丢失右括号”；
4. 为表达式“2 3”生成错误信息“丢失运算符”；
5. 为表达式“（2+）”生成错误信息“丢失操作数”；

**可选要求**

能判断源代码是否符合以下语义假设并给出相应错误具体位置；

- [x] 过程/函数仅能定义一次、程序中所有变量均不能重名、过程/函数不可嵌套定义；
- [x] 定位源代码中的错误位置。
- [x] 能检查结构体中域是否与变量重名，不同结构体中域是否重名；